document.addEventListener("DOMContentLoaded", () => {
    let elementList = document.querySelectorAll('.ns__questionnaire__form__file__inp');
    if(elementList.length > 0) {
        elementList.forEach(function (inpFile) {
            inpFile.addEventListener('change', (e)=> {
                let label = inpFile.parentElement,
                    labelVal = label.querySelector('.ns__questionnaire__form__file__value');
                if(inpFile.files[0]) {
                    labelVal.innerHTML = inpFile.files[0].name;
                    labelVal.classList.add('active');
                }
            });
        });
    }

    const jsPass = document.querySelectorAll('.js-pass');

    jsPass.forEach(el => {
        el.addEventListener('click', (event) => {
            if (document.getElementById(el.dataset.target)) {
                let inputPass = document.getElementById(el.dataset.target);
                if (inputPass.type === 'password') {
                    inputPass.type = 'text';
                    el.classList.add('active');
                } else {
                    inputPass.type = 'password';
                    el.classList.remove('active');
                }
            }
        });
    });

    const maskPhone = document.querySelectorAll('.js-phone-mask');
    maskPhone.forEach(el => {
        let im = new Inputmask("+7 999 999-99-99", {"clearIncomplete": true});
        im.mask(el);
    });

});
